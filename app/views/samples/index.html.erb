<script>


// grab keydown code and play sample + change background color
$(document).keypress(function(e) {
        if ( e.keyCode === 97 ) { //a
            function play1(){
                 var audio1 = document.getElementsByClassName("push")[0];
                 audio1.pause(); 
                 audio1.currentTime = 0; 
                 audio1.play();
            };
            play1();
        	document.getElementsByClassName("pad")[0].style.backgroundColor="white";
        }
        else if ( e.keyCode === 115 ) { //s
            function play2(){
                 var audio2 = document.getElementsByClassName("push")[1];
                 audio2.pause(); 
                 audio2.currentTime = 0; 
                 audio2.play();
            };
            play2();
            document.getElementsByClassName("pad")[1].style.backgroundColor="white";
        }
        else if ( e.keyCode === 102 ) { //f
            function play3(){
                 var audio3 = document.getElementsByClassName("push")[2];
                 audio3.pause(); 
                 audio3.currentTime = 0; 
                 audio3.play();
            };
            play3();
            document.getElementsByClassName("pad")[2].style.backgroundColor="white";
        }
        else if ( e.keyCode === 103 ) { //g
            function play4(){
                 var audio4 = document.getElementsByClassName("push")[3];
                 audio4.pause(); 
                 audio4.currentTime = 0; 
                 audio4.play();
            };
            play4();
            document.getElementsByClassName("pad")[3].style.backgroundColor="white";
        }
        else if ( e.keyCode === 118 ) { //v
            function play5(){
                 var audio5 = document.getElementsByClassName("push")[4];
                 audio5.pause(); 
                 audio5.currentTime = 0; 
                 audio5.play();
            };
            play5();
            document.getElementsByClassName("pad")[4].style.backgroundColor="white";
        }
        else if ( e.keyCode === 98 ) { //b
            function play6(){
                 var audio6 = document.getElementsByClassName("push")[5];
                 audio6.pause(); 
                 audio6.currentTime = 0; 
                 audio6.play();
            };
            play6();
            document.getElementsByClassName("pad")[5].style.backgroundColor="white";
        }     
        else if ( e.keyCode === 104 ) { //h
            function play7(){
                 var audio7 = document.getElementsByClassName("push")[6];
                 audio7.pause(); 
                 audio7.currentTime = 0; 
                 audio7.play();
            };
            play7();
            document.getElementsByClassName("pad")[6].style.backgroundColor="white";
        } 
        else if ( e.keyCode === 106 ) { //j
            function play8(){
                 var audio8 = document.getElementsByClassName("push")[7];
                 audio8.pause(); 
                 audio8.currentTime = 0; 
                 audio8.play();
            };
            play8();
            document.getElementsByClassName("pad")[7].style.backgroundColor="white";
        }    
    });

// change background color back to normal
$(document).keyup(function() {

        document.getElementsByClassName("pad")[0].style.backgroundColor="black";
        document.getElementsByClassName("pad")[1].style.backgroundColor="black";
    });

function reply_click(clicked_id)
{
    newSample = (clicked_id);
    alert(newSample);
}

<% @samples.each do |s| %>
  function changeSrc<%= s.id %>() {
    document.getElementById("holder<%= s.id %>").innerHTML=newSample;
  }

  function playNew<%= s.id %>(){
                 var audio<%= s.id %> = document.getElementById("sa<%= s.id %>");
                 audio<%= s.id %>.pause(); 
                 audio<%= s.id %>.currentTime = 0; 
                 audio<%= s.id %>.play();
            };
    playNew<%= s.id %>();

<% end %>



</script>

<h2 class="title">Your Rack</h2>

<!-- first Drum Holder -->
  <div id="holder1" onclick="changeSrc1()">
    <audio id="1" class="push" src="<%= @samples.find(1).url %>" > </audio>
      <div class="pad">
        <h3><%= @samples.find(1).category %><br></h3>
        <h4><%= @samples.find(1).name %></h4>
      </div>
  </div>

<!-- second drum holder -->
  <div id="holder2" onclick="changeSrc2()">
    <audio id="2" class="push" src="<%= @samples.find(2).url %>" ></audio>
      <div class="pad">
        <h3><%= @samples.find(2).category %><br></h3>
        <h4><%= @samples.find(2).name %></h4>
      </div>
  </div>

<h2 class="title">Available Samples</h2>

	<div class="sample_repo">
    <% @kicks.each do |k| %>
    <div id="sample<%= k.id %>" onclick="reply_click(this.innerHTML); playNew<%= k.id %>();">
  		<audio id="sa<%= k.id %>" class="push" src="<%= k.url %>">
  		</audio>

  		<div class="pad">
  			<h3><%= k.category %><br></h3>
  			<h4><%= k.name %></h4>
  		</div>
    </div>
    <% end %>
	</div>

    <div class="sample_repo">
    <% @snares.each do |s| %>
    <div id="sample<%= s.id %>" onclick="reply_click(this.innerHTML); playNew<%= s.id %>();">
      <audio id="sa<%= s.id %>" class="push" src="<%= s.url %>">
      </audio>

      <div class="pad">
        <h3><%= s.category %><br></h3>
        <h4><%= s.name %></h4>
      </div>
    </div>
    <% end %>
  </div>

<h2 class="title">Add a New Sample</h2>

<%= form_for @sample do |f| %>

<div class="field sample_name">
  <%= f.label :name %><br>
  <%= f.text_field :name, :placeholder => "Name of new audio sample", :size => 50 %>
</div>

<div class="field sample_url">
  <%= f.label :url %><br>
  <%= f.text_field :url, :placeholder => "URL of new audio sample", :size => 50 %>
</div>

<div class="field sample_category">
	<%= f.label :category %><br>
    <%= f.select :category, [['Choose a category...'],['clap'],['cymbal'],['fx'],['hi-hat closed'],['hi-hat open'],['kick'],['snare'],['vocal']] %>
</div>

<div class="actions submit">
  <%= f.submit %>
</div>
<% end %>